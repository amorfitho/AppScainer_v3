"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3046],{3046:(F,c,t)=>{t.r(c),t.d(c,{CrudModiPageModule:()=>b});var M=t(177),l=t(4341),a=t(4742),m=t(8986),g=t(467),o=t(4438),p=t(7014),C=t(3656);const h=[{path:"",component:(()=>{var i;class s{constructor(r,e,u,n,U){this.usuarioServ=r,this.router=e,this.route=u,this.navControl=n,this.alertController=U,this.usuario={id:0,nombre:"",apellidos:"",email:"",password:""}}ionViewWillEnter(){this.getUsuarioById(this.getFromURL())}getFromURL(){let e=this.router.url.split("/",3);return parseInt(e[2])}getUsuarioById(r){this.usuarioServ.getUsuarioById(r).subscribe(e=>{e&&e[0]&&(this.usuario={id:e[0].id,nombre:e[0].nombre,apellidos:e[0].apellidos,email:e[0].email,password:e[0].password})})}actualizarUsuario(){this.usuarioServ.updateUsuario(this.usuario).subscribe(),this.navControl.navigateRoot("lista")}eliminarUsuario(){var r=this;return(0,g.A)(function*(){yield(yield r.alertController.create({header:"Confirmar eliminaci\xf3n",message:"\xbfEst\xe1s seguro que deseas eliminar este usuario?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",handler:()=>{r.usuarioServ.eliminarUsuario(r.usuario.id).subscribe(()=>{r.mostrarMensajeExito(),r.navControl.navigateRoot("/lista")},u=>{r.mostrarError("Error al eliminar el usuario")})}}]})).present()})()}mostrarMensajeExito(){var r=this;return(0,g.A)(function*(){yield(yield r.alertController.create({header:"\xc9xito",message:"Usuario eliminado correctamente",buttons:["OK"]})).present()})()}mostrarError(r){var e=this;return(0,g.A)(function*(){yield(yield e.alertController.create({header:"Error",message:r,buttons:["OK"]})).present()})()}}return(i=s).\u0275fac=function(r){return new(r||i)(o.rXU(p.X),o.rXU(m.Ix),o.rXU(m.nX),o.rXU(C.q9),o.rXU(a.hG))},i.\u0275cmp=o.VBU({type:i,selectors:[["app-crud-modi"]],decls:35,vars:5,consts:[[3,"translucent"],["slot","start"],["defaultHref","/lista"],[1,"center-content"],[1,"registro-card"],["position","floating"],["type","text","name","nombre","required","",3,"ngModelChange","ngModel"],["type","text","name","apellidos","required","",3,"ngModelChange","ngModel"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],[1,"ion-margin-top","ion-padding-top"],["expand","block","color","primary",3,"click"],["expand","block","color","danger",1,"ion-margin-top",3,"click"]],template:function(r,e){1&r&&(o.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),o.EFF(3,"Modificar Usuario"),o.k0s(),o.j41(4,"ion-buttons",1),o.nrm(5,"ion-back-button",2),o.k0s()()(),o.j41(6,"ion-content")(7,"div",3)(8,"ion-card",4)(9,"ion-card-header")(10,"ion-card-title"),o.EFF(11,"Modificar Usuario"),o.k0s()(),o.j41(12,"ion-card-content")(13,"form")(14,"ion-item")(15,"ion-label",5),o.EFF(16,"Nombre:"),o.k0s(),o.j41(17,"ion-input",6),o.mxI("ngModelChange",function(n){return o.DH7(e.usuario.nombre,n)||(e.usuario.nombre=n),n}),o.k0s()(),o.j41(18,"ion-item")(19,"ion-label",5),o.EFF(20,"Apellidos:"),o.k0s(),o.j41(21,"ion-input",7),o.mxI("ngModelChange",function(n){return o.DH7(e.usuario.apellidos,n)||(e.usuario.apellidos=n),n}),o.k0s()(),o.j41(22,"ion-item")(23,"ion-label",5),o.EFF(24,"Email:"),o.k0s(),o.j41(25,"ion-input",8),o.mxI("ngModelChange",function(n){return o.DH7(e.usuario.email,n)||(e.usuario.email=n),n}),o.k0s()(),o.j41(26,"ion-item")(27,"ion-label",5),o.EFF(28,"Contrase\xf1a:"),o.k0s(),o.j41(29,"ion-input",9),o.mxI("ngModelChange",function(n){return o.DH7(e.usuario.password,n)||(e.usuario.password=n),n}),o.k0s()(),o.j41(30,"div",10)(31,"ion-button",11),o.bIt("click",function(){return e.actualizarUsuario()}),o.EFF(32," Actualizar Usuario "),o.k0s(),o.j41(33,"ion-button",12),o.bIt("click",function(){return e.eliminarUsuario()}),o.EFF(34," Eliminar Usuario "),o.k0s()()()()()()()),2&r&&(o.Y8G("translucent",!0),o.R7$(17),o.R50("ngModel",e.usuario.nombre),o.R7$(4),o.R50("ngModel",e.usuario.apellidos),o.R7$(4),o.R50("ngModel",e.usuario.email),o.R7$(4),o.R50("ngModel",e.usuario.password))},dependencies:[l.qT,l.BC,l.cb,l.YS,l.vS,l.cV,a.Jm,a.QW,a.b_,a.I9,a.ME,a.tN,a.W9,a.eU,a.$w,a.uz,a.he,a.BC,a.ai,a.Gw,a.el]}),s})()}];let f=(()=>{var i;class s{}return(i=s).\u0275fac=function(r){return new(r||i)},i.\u0275mod=o.$C({type:i}),i.\u0275inj=o.G2t({imports:[m.iI.forChild(h),m.iI]}),s})(),b=(()=>{var i;class s{}return(i=s).\u0275fac=function(r){return new(r||i)},i.\u0275mod=o.$C({type:i}),i.\u0275inj=o.G2t({imports:[M.MD,l.YN,a.bv,f]}),s})()}}]);