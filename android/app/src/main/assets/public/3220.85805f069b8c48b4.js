"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3220],{3220:(P,d,n)=>{n.r(d),n.d(d,{CrudListaPageModule:()=>v});var m=n(177),g=n(4341),i=n(4742),u=n(8986),l=n(467),r=n(4438),C=n(7014);const h=t=>["/modi",t];function f(t,s){if(1&t){const o=r.RV6();r.j41(0,"ion-item")(1,"ion-label")(2,"h2"),r.EFF(3),r.k0s(),r.j41(4,"p"),r.EFF(5),r.k0s()(),r.j41(6,"ion-buttons",5)(7,"ion-button",6),r.nrm(8,"ion-icon",7),r.k0s(),r.j41(9,"ion-button",8),r.bIt("click",function(){const a=r.eBV(o).$implicit,c=r.XpG();return r.Njj(c.eliminarUsuario(a.id))}),r.nrm(10,"ion-icon",9),r.k0s()()()}if(2&t){const o=s.$implicit;r.R7$(3),r.Lme("",o.nombre," ",o.apellidos,""),r.R7$(2),r.JRh(o.email),r.R7$(2),r.Y8G("routerLink",r.eq3(4,h,o.id))}}const p=[{path:"",component:(()=>{var t;class s{constructor(e,a){this.usuarioServ=e,this.alertController=a,this.usuarios=[]}ngOnInit(){this.cargarUsuarios()}ionViewWillEnter(){this.cargarUsuarios()}cargarUsuarios(){this.usuarioServ.listarUsuarios().subscribe(e=>{this.usuarios=e})}eliminarUsuario(e){var a=this;return(0,l.A)(function*(){yield(yield a.alertController.create({header:"Confirmar eliminaci\xf3n",message:"\xbfEst\xe1s seguro que deseas eliminar este usuario?",buttons:[{text:"Cancelar",role:"cancel"},{text:"Eliminar",handler:()=>{a.usuarioServ.eliminarUsuario(e).subscribe(()=>{a.mostrarMensajeExito(),a.cargarUsuarios()},U=>{a.mostrarError("Error al eliminar el usuario")})}}]})).present()})()}mostrarMensajeExito(){var e=this;return(0,l.A)(function*(){yield(yield e.alertController.create({header:"\xc9xito",message:"Usuario eliminado correctamente",buttons:["OK"]})).present()})()}mostrarError(e){var a=this;return(0,l.A)(function*(){yield(yield a.alertController.create({header:"Error",message:e,buttons:["OK"]})).present()})()}}return(t=s).\u0275fac=function(e){return new(e||t)(r.rXU(C.X),r.rXU(i.hG))},t.\u0275cmp=r.VBU({type:t,selectors:[["app-crud-lista"]],decls:9,vars:3,consts:[[3,"translucent"],["slot","start"],["defaultHref","/ini"],[3,"fullscreen"],[4,"ngFor","ngForOf"],["slot","end"],["color","primary",3,"routerLink"],["name","create-outline"],["color","danger",3,"click"],["name","trash-outline"]],template:function(e,a){1&e&&(r.j41(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),r.EFF(3,"Lista de Usuarios"),r.k0s(),r.j41(4,"ion-buttons",1),r.nrm(5,"ion-back-button",2),r.k0s()()(),r.j41(6,"ion-content",3)(7,"ion-list"),r.DNE(8,f,11,6,"ion-item",4),r.k0s()()),2&e&&(r.Y8G("translucent",!0),r.R7$(6),r.Y8G("fullscreen",!0),r.R7$(2),r.Y8G("ngForOf",a.usuarios))},dependencies:[m.Sq,i.Jm,i.QW,i.W9,i.eU,i.iq,i.uz,i.he,i.nf,i.BC,i.ai,i.el,i.N7,u.Wk]}),s})()}];let L=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.$C({type:t}),t.\u0275inj=r.G2t({imports:[u.iI.forChild(p),u.iI]}),s})(),v=(()=>{var t;class s{}return(t=s).\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.$C({type:t}),t.\u0275inj=r.G2t({imports:[m.MD,g.YN,i.bv,L]}),s})()}}]);